{# User Information and Terms/Agreements form fields partial #}
{# Include with: include 'partials/user_consent_form_fields.html' #}
{# Requires: form object in context with UserConsentForm fields #}

<!-- User Information Section -->
<div class="mb-4">
    <h4>Your Information</h4>
    <p class="text-muted small">This information is saved in your browser to protect your privacy. It's used to replace personal details before sending messages to our AI service.</p>

    <div class="row">
        <div class="col-md-6 mb-3">
            <label for="store_fname" class="form-label">First Name*</label>
            {{ form.first_name }}
        </div>
        <div class="col-md-6 mb-3">
            <label for="store_lname" class="form-label">Last Name*</label>
            {{ form.last_name }}
        </div>
    </div>

    <div class="mb-3">
        <label for="email" class="form-label">Email*</label>
        {{ form.email }}
    </div>

    <div class="mb-3">
        <label for="phone" class="form-label">Phone</label>
        {{ form.phone }}
    </div>

    <div class="mb-3">
        <label for="store_street" class="form-label">Street Address</label>
        {{ form.address }}
    </div>

    <div class="row">
        <div class="col-md-4 mb-3">
            <label for="store_city" class="form-label">City</label>
            {{ form.city }}
        </div>
        <div class="col-md-4 mb-3">
            <label for="store_state" class="form-label">State</label>
            {{ form.state }}
        </div>
        <div class="col-md-4 mb-3">
            <label for="store_zip" class="form-label">ZIP Code</label>
            {{ form.zip_code }}
        </div>
    </div>
</div>

<hr class="my-4">

<!-- Terms & Agreements Section -->
<div class="mb-4">
    <h4>Terms & Agreements</h4>

    <div class="form-check mb-3">
        {{ form.tos_agreement }}
        <label for="tos" class="form-check-label">
            I agree to the <a href="{% url brand_url_names.tos %}" target="_blank">Terms of Service</a> and will only use this website to generate my own health insurance appeals. I will not use this website to treat and diagnose any disease or condition or assist in either of those.*
        </label>
    </div>

    <div class="form-check mb-3">
        {{ form.privacy_policy }}
        <label for="privacy" class="form-check-label">
            I have read and understand the <a href="{% url brand_url_names.privacy_policy %}" target="_blank">Privacy Policy</a>.*
        </label>
    </div>

    <div class="form-check mb-3">
        {{ form.subscribe }}
        <label for="subscribe" class="form-check-label">
            I wish to subscribe for updates and news from Fight Health Insurance and Fight Paperwork (our pro-version).
            Choosing to subscribe will not affect your experience, but we do appreciate it!
        </label>
    </div>

    <div class="mb-3">
        <label for="referral_source" class="form-label">How did you hear about us? (Optional)</label>
        {{ form.referral_source }}
    </div>

    <div class="mb-3">
        <label for="referral_source_details" class="form-label">Details (Optional)</label>
        {{ form.referral_source_details }}
        <small class="form-text text-muted">Please provide specific details about your referral source if applicable</small>
    </div>
</div>

<hr class="my-4">

<!-- AI Model Options Section -->
<div class="mb-4">
    <h4>AI Model Options</h4>
    <p class="text-muted small">Configure how we generate responses for you.</p>

    <div class="form-check mb-3">
        {{ form.use_external_models }}
        <label for="use_external_models" class="form-check-label">
            Allow external AI models as fallback (e.g., OpenAI, Google)
        </label>
        <small class="form-text text-muted d-block mt-1">
            We prefer using our own FHI models when possible. When enabled, external AI providers
            may be used as a fallback if our models are unavailable. Note that your conversation
            data will be sent to these third-party services.
        </small>
    </div>
</div>
